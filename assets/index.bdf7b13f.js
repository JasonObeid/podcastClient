var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,o=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&i(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&i(e,n,t[n]);return e},l=(e,a)=>t(e,n(a));import{i as c,G as d,g as p,a as u,P as m,R as h,m as E,u as f,L as v,b as g,c as y,d as b,e as x,f as I,h as k,j as S,k as w,r as P,s as N,l as C,C as L,n as T,o as A,p as O,T as B,M as R,q as M,I as j,t as $,N as _,v as F,w as J,x as U,y as V,S as D,z,A as q,B as G,D as H,E as W,F as Y,H as K,J as Q,K as X,O as Z,Q as ee,U as te,V as ne,W as ae,X as re,Y as se,Z as ie,_ as oe,$ as le,a0 as ce,a1 as de,a2 as pe,a3 as ue,a4 as me,a5 as he,a6 as Ee,a7 as fe,a8 as ve,a9 as ge}from"./vendor.74f0df22.js";let ye;const be={},xe=function(e,t){if(!t||0===t.length)return e();if(void 0===ye){const e=document.createElement("link").relList;ye=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/podcaster/${e}`)in be)return;be[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":ye,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))};const Ie={apiKey:"AIzaSyCFeT-GJW_TNkH3GRkEchgBSSxd8IxWq-8",authDomain:"podcaster-ca277.firebaseapp.com",databaseURL:"https://podcaster-ca277-default-rtdb.firebaseio.com/",projectId:"podcaster-ca277",storageBucket:"podcaster-ca277.appspot.com",messagingSenderId:"1060072167958",appId:"1:1060072167958:web:b8071b3de130430422f337",measurementId:"G-NHG3XF04JF"};if(void 0===Ie)throw new Error("Invalid firebase config.");c(Ie);const ke={google:new d},Se=p(),we=u(),Pe=new m("RBE7535YHVY2VFHJPUDJ","DZmpt7J^vKzbeNwd4EvQUtGQj7wwd6Eq#vwChUL4"),Ne=h.createContext(void 0);function Ce({children:e}){const t={client:Pe};return h.createElement(Ne.Provider,{value:t},e)}function Le(){const e=h.useContext(Ne);if(void 0===e)throw new Error("usePodcastIndex must be used within a PodcastIndexProvider");return e}const Te=E({blackText:{color:"black"}});function Ae(){const e=Te(),t=f();return h.createElement(h.Fragment,null,h.createElement(v,{component:"nav","aria-label":"home search subscriptions settings"},h.createElement(g,{component:y,to:"/",selected:"/"===t.pathname,className:e.blackText},h.createElement(b,null,h.createElement(x,{color:"primary"})),h.createElement(I,{primary:"Home"})),h.createElement(g,{component:y,to:"/search",selected:t.pathname.includes("/search"),className:e.blackText},h.createElement(b,null,h.createElement(k,{color:"primary"})),h.createElement(I,{primary:"Search"})),h.createElement(g,{component:y,to:"/subscriptions",selected:"/subscriptions"===t.pathname,className:e.blackText},h.createElement(b,null,h.createElement(S,{color:"primary"})),h.createElement(I,{primary:"Subscriptions"})),h.createElement(g,{component:y,to:"/settings",selected:"/settings"===t.pathname,className:e.blackText},h.createElement(b,null,h.createElement(w,{color:"primary"})),h.createElement(I,{primary:"Settings"}))))}function Oe(e,t){return""!==t&&null!==t?t:e}function Be(e){const t=new Date(0);t.setSeconds(e);const n=t.toISOString().substr(11,8);return"00"===n.substr(0,2)?n.substr(3):n}function Re(e,t){return t instanceof Map?{dataType:"Map",value:[...t]}:t}function Me(e,t){return"object"==typeof t&&null!==t&&"Map"===t.dataType?new Map(t.value):t}function je(e){return void 0!==e}function $e(e){try{if(!function(e){return null!==e}(JSON.parse(e,Me)))return!1}catch(t){return!1}return!0}function _e(e){return void 0!==e.id}function Fe(e){return void 0!==e}function Je(e,t){if(null!==t){const n=P(we,`users/${t.uid}/controls`);N(n,e)}localStorage.setItem("controls",JSON.stringify(e))}function Ue(e,t){if(null!==t){const n=P(we,`users/${t.uid}/subscriptions`);N(n,e)}localStorage.setItem("subscriptions",JSON.stringify(e))}function Ve(e,t){if(null!==t){const n=P(we,`users/${t.uid}/activeEpisode`);N(n,e)}localStorage.setItem("activeEpisode",JSON.stringify(e))}const De=E({endItems:{display:"flex",justifyContent:"flex-end",columnGap:"24px",alignItems:"center"},rounded:{borderRadius:"4px"},play:{display:"flex",alignItems:"center"},text:{display:"-webkit-box","-webkit-line-clamp":"4","-webkit-box-orient":"vertical",overflow:"hidden"},episodeLink:{paddingBottom:"8px"},header:{display:"flex",alignItems:"center",padding:16,paddingBottom:0}});function ze(e,t,n){if(void 0!==e&&e instanceof Map&&e.has(t)){const a=e.get(t)||0;return Math.round(a/n*100)}return 0}function qe({episodeId:e,activeEpisode:t,setActiveEpisode:n,isPlaying:a,setIsPlaying:r,playbackStates:s}){async function i(){void 0!==m&&(void 0!==E&&(n(E),Ve(E,Se.currentUser)),r(!a))}const o=De(),l=f(),c=C(),{client:d}=Le(),[p,u]=L.exports.useState(null);const{data:m}=T(`episodeById/${p}`,(async function(){if(null!==p){return await d.episodeById(p)}})),E=null==m?void 0:m.episode;return L.exports.useEffect((()=>{!async function(){if(void 0!==e)u(e);else if(void 0!==c.episodeId){const e=parseInt(c.episodeId);u(e)}}()}),[]),void 0!==E?function(e){const n=(r=e.description,document.createRange().createContextualFragment(r));var r;return h.createElement(A,null,h.createElement("div",{className:o.header},h.createElement(O,{container:!0,spacing:1,alignItems:"center",justifyContent:"space-between",wrap:"nowrap"},h.createElement(O,{item:!0,xs:9},l.pathname.includes("episode")?h.createElement(B,{variant:"subtitle2"},e.title):h.createElement(R,{component:y,variant:"subtitle2",to:`/episode/${e.id}`},e.title)),h.createElement(O,{item:!0,xs:3,className:o.endItems},h.createElement(B,{variant:"body2",color:"textSecondary",component:"p"},`${Math.round(e.duration/60)} mins`),h.createElement(B,{variant:"body2",color:"textSecondary",component:"p"},new Date(1e3*e.datePublished).toLocaleDateString())))),h.createElement(M,null,h.createElement(O,{container:!0,spacing:1,alignItems:"center",justifyContent:"space-between",wrap:"nowrap"},h.createElement(O,{item:!0,xs:9},h.createElement(B,{variant:"body2",color:"textSecondary",component:"p",className:l.pathname.includes("episode")?void 0:o.text},n.textContent||"")),h.createElement(O,{item:!0,xs:3,className:o.endItems},l.pathname.includes("podcast")?h.createElement(j,{publicId:Oe(e.image,e.feedImage),type:"fetch",className:o.rounded,alt:e.title},h.createElement($,{width:"auto",height:48,crop:"fill",quality:"auto"})):h.createElement(_,{to:`/podcast/${e.feedId}`},h.createElement(j,{publicId:Oe(e.image,e.feedImage),type:"fetch",className:o.rounded,alt:e.title},h.createElement($,{width:"auto",height:48,crop:"fill",quality:"auto"}))),h.createElement(F,{onClick:i,color:"secondary"},a&&(null==t?void 0:t.id)===e.id?h.createElement(J,{fontSize:"large"}):h.createElement(U,{fontSize:"large"}))))),h.createElement(V,{variant:"determinate",value:ze(s,e.id,e.duration)}))}(E):h.createElement(A,null,h.createElement("div",{className:o.header},h.createElement(O,{container:!0,spacing:1,alignItems:"center",justifyContent:"space-between",wrap:"nowrap"},h.createElement(O,{item:!0,xs:9},h.createElement(D,{variant:"rect",height:20})),h.createElement(O,{item:!0,xs:3,className:o.endItems},h.createElement(D,{variant:"rect",width:40,height:20}),h.createElement(D,{variant:"rect",width:40,height:20})))),h.createElement(M,null,h.createElement(O,{container:!0,spacing:1,alignItems:"center",justifyContent:"space-between",wrap:"nowrap"},h.createElement(O,{item:!0,xs:9},h.createElement(D,{variant:"rect",height:80})),h.createElement(O,{item:!0,xs:3,className:o.endItems},h.createElement(D,{variant:"rect",width:48,height:48}),h.createElement(D,{variant:"circle",width:35,height:35})))))}function Ge({episodes:e,activeEpisode:t,setActiveEpisode:n,isPlaying:a,setIsPlaying:r,playbackStates:s}){return e.length>0?h.createElement(O,{container:!0,spacing:3,direction:"column",alignItems:"stretch"},e.map(((e,i)=>h.createElement(O,{item:!0,xs:!0,component:"article",key:`${i} ${e.id}`},h.createElement(qe,{episodeId:e.id,playbackStates:s,setIsPlaying:r,isPlaying:a,activeEpisode:t,setActiveEpisode:n}))))):h.createElement(B,null,"Your feed is currently empty - try subscribing to a podcast!")}var He=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ge});const We=z({container:{display:"grid",gridTemplateColumns:"3fr minmax(88px, 96px)",gridTemplateRows:"1fr",gap:"0px 24px",gridAutoFlow:"row",gridTemplateAreas:'"content icon"',alignItems:"center"},podcast:{marginBottom:"48px"},content:{gridArea:"content",display:"-webkit-box","-webkit-line-clamp":"4","-webkit-box-orient":"vertical",overflow:"hidden"},icon:{gridArea:"icon",display:"flex",alignItems:"center",justifyContent:"center"},rounded:{borderRadius:"4px"},header:{display:"flex",alignItems:"center",padding:16,paddingBottom:0},skeletonHeader:{padding:16,paddingBottom:0}});function Ye({podcastId:e,activeEpisode:t,setActiveEpisode:n,isPlaying:a,setIsPlaying:r,playbackStates:s,subscriptions:i,setSubscriptions:o}){const l=We(),{client:c}=Le(),d=C(),p=f(),[u,m]=L.exports.useState(void 0),[E,v]=L.exports.useState(void 0),g=T(`podcastById/${u}`,(async function(){if(void 0!==u){const e=await c.podcastById(u);return v(e.feed.id),e.feed}})),b=null==g?void 0:g.data,x=E||(null==b?void 0:b.id),I=T(`episodesByFeedId/${x}`,(async function(){if(void 0!==x){return(await c.episodesByFeedId(x)).items}})),k=null==I?void 0:I.data;function S(){return void 0!==b&&i.map((e=>e.id)).includes(b.id)}async function w(){S()?async function(){if(void 0!==b){const e=i.filter((e=>e.id!==b.id));o(e),Ue(e,Se.currentUser)}}():async function(){if(void 0!==b){const e=await c.podcastById(b.id),t=[...i,e.feed];o(t),Ue(t,Se.currentUser)}}()}return L.exports.useEffect((()=>{!async function(){void 0!==e&&m(e),void 0!==d.podcastId&&m(parseInt(d.podcastId))}()}),[]),void 0!==b?h.createElement(h.Fragment,null,void 0!==b?h.createElement(A,{component:"article",className:p.pathname.includes("podcast")?l.podcast:""},h.createElement("div",{className:l.header},p.pathname.includes("podcast")?h.createElement(B,{variant:"h5",component:"h5"},b.title):h.createElement(R,{component:y,variant:"h5",to:`/podcast/${b.id}`},b.title)),h.createElement(M,{className:l.container},h.createElement(h.Fragment,null,h.createElement("div",{className:l.content},h.createElement(B,{variant:"body2",color:"textSecondary",component:"p"},b.description)),h.createElement("div",{className:l.icon},h.createElement(j,{publicId:Oe(b.artwork,b.image),type:"fetch",className:l.rounded,alt:b.title},h.createElement($,{width:"auto",height:80,crop:"fill",quality:"auto"}))))),h.createElement(q,null,h.createElement(G,{size:"small",color:"primary",onClick:w},S()?"Unsubscribe":"Subscribe"))):null,p.pathname.includes("subscriptions")||void 0===k?null:h.createElement(h.Fragment,null,h.createElement(H,{display:"flex",flexGrow:1,justifyContent:"space-between",alignItems:"flex-end",marginBottom:"8px"},h.createElement(B,{variant:"h6",component:"h6"},"Episodes")),h.createElement(Ge,{episodes:k,playbackStates:s,activeEpisode:t,setActiveEpisode:n,isPlaying:a,setIsPlaying:r}))):h.createElement(h.Fragment,null,h.createElement(A,{component:"article",className:p.pathname.includes("podcast")?l.podcast:""},h.createElement("div",{className:W(l.skeletonHeader,l.container)},h.createElement(h.Fragment,null,h.createElement("div",{className:l.content},h.createElement(D,{variant:"rect",height:32})),h.createElement("div",{className:l.icon}))),h.createElement(M,{className:l.container},h.createElement(h.Fragment,null,h.createElement("div",{className:l.content},h.createElement(D,{variant:"rect",height:80})),h.createElement("div",{className:l.icon},h.createElement(D,{variant:"rect",height:80,width:80})))),h.createElement(q,null,h.createElement(D,{variant:"rect",height:22,width:90,style:{margin:"8px"}}))),void 0!==k&&p.pathname.includes("podcast")?h.createElement(h.Fragment,null,h.createElement(B,{variant:"h6",component:"h6"},"Episodes"),h.createElement(Ge,{episodes:k,playbackStates:s,activeEpisode:t,setActiveEpisode:n,isPlaying:a,setIsPlaying:r})):null)}const Ke=E((e=>({rounded:{borderRadius:"4px"},emptyIcon:{backgroundColor:e.palette.primary.light,borderRadius:"4px"},title:{display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical",overflow:"hidden",color:e.palette.primary.dark,textDecoration:"none"},author:{display:"-webkit-box","-webkit-line-clamp":"1","-webkit-box-orient":"vertical",overflow:"hidden",color:e.palette.primary.main,textDecoration:"none"}})));function Qe({activeEpisode:e,subscriptions:t}){const n=Ke();return h.createElement(h.Fragment,null,void 0!==e?h.createElement(_,{to:`/episode/${e.id}`},h.createElement(j,{publicId:Oe(e.image,e.feedImage),type:"fetch",className:n.rounded,alt:e.title},h.createElement($,{width:"auto",height:56,crop:"fill",quality:"auto"}))):h.createElement("img",{height:"56px",width:"56px",className:n.emptyIcon}),void 0!==e?h.createElement(H,{paddingLeft:"16px"},h.createElement(R,{gutterBottom:!0,variant:"subtitle2",className:n.title,component:y,to:`/episode/${e.id}`},e.title),h.createElement(R,{variant:"caption",color:"textSecondary",component:y,to:`/podcast/${e.feedId}`,className:n.author},void 0!==e?function(e,t){const n=e.find((e=>e.id===t));return n?n.author:""}(t,e.feedId):"")):null)}function Xe(){const e=Y();return h.createElement(h.Fragment,null,h.createElement(F,{onClick:()=>e.goBack()},h.createElement(K,null)),h.createElement(F,{onClick:()=>e.goForward()},h.createElement(Q,null)))}const Ze=E((e=>({button:{display:"flex",justifyContent:"space-between",flexGrow:1},headerText:{paddingLeft:"8px"}})));function et(){const e=Ze();return h.createElement(G,{color:"primary",className:e.button,component:_,to:"/"},h.createElement(B,{variant:"h6",component:"h1",className:e.headerText},"podcaster"),h.createElement("img",{src:"/podcaster/assets/cat.bd0d0283.svg",height:"24px",width:"auto",alt:"cat"}))}class tt extends L.exports.Component{constructor(){super(...arguments),this.audioEl=h.createRef(),this.onError=e=>{var t,n;return null==(n=(t=this.props).onError)?void 0:n.call(t,e)},this.onCanPlay=e=>{var t,n;return null==(n=(t=this.props).onCanPlay)?void 0:n.call(t,e)},this.onCanPlayThrough=e=>{var t,n;return null==(n=(t=this.props).onCanPlayThrough)?void 0:n.call(t,e)},this.onPlay=e=>{var t,n;this.setListenTrack(),null==(n=(t=this.props).onPlay)||n.call(t,e)},this.onAbort=e=>{var t,n;this.clearListenTrack(),null==(n=(t=this.props).onAbort)||n.call(t,e)},this.onEnded=e=>{var t,n;this.clearListenTrack(),null==(n=(t=this.props).onEnded)||n.call(t,e)},this.onPause=e=>{var t,n;this.clearListenTrack(),null==(n=(t=this.props).onPause)||n.call(t,e)},this.onSeeked=e=>{var t,n;null==(n=(t=this.props).onSeeked)||n.call(t,e)},this.onLoadedMetadata=e=>{var t,n;null==(n=(t=this.props).onLoadedMetadata)||n.call(t,e)},this.onVolumeChanged=e=>{var t,n;null==(n=(t=this.props).onVolumeChanged)||n.call(t,e)}}componentDidMount(){const e=this.audioEl.current;e&&(this.updateVolume(this.props.volume),e.addEventListener("error",this.onError),e.addEventListener("canplay",this.onCanPlay),e.addEventListener("canplaythrough",this.onCanPlayThrough),e.addEventListener("play",this.onPlay),e.addEventListener("abort",this.onAbort),e.addEventListener("ended",this.onEnded),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeeked),e.addEventListener("loadedmetadata",this.onLoadedMetadata),e.addEventListener("volumechange",this.onVolumeChanged))}componentWillUnmount(){const e=this.audioEl.current;e&&(e.removeEventListener("error",this.onError),e.removeEventListener("canplay",this.onCanPlay),e.removeEventListener("canplaythrough",this.onCanPlayThrough),e.removeEventListener("play",this.onPlay),e.removeEventListener("abort",this.onAbort),e.removeEventListener("ended",this.onEnded),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeeked),e.removeEventListener("loadedmetadata",this.onLoadedMetadata),e.removeEventListener("volumechange",this.onVolumeChanged))}componentDidUpdate(e){this.updateVolume(this.props.volume)}setListenTrack(){if(!this.listenTracker){const e=this.props.listenInterval;this.listenTracker=window.setInterval((()=>{var e,t;this.audioEl.current&&(null==(t=(e=this.props).onListen)||t.call(e,this.audioEl.current.currentTime))}),e)}}updateVolume(e){const t=this.audioEl.current;null!==t&&"number"==typeof e&&e!==(null==t?void 0:t.volume)&&(t.volume=e)}clearListenTrack(){this.listenTracker&&(clearInterval(this.listenTracker),delete this.listenTracker)}render(){const e=this.props.children||h.createElement("p",null,"Your browser does not support the ",h.createElement("code",null,"audio")," element."),t=!(!1===this.props.controls),n=this.props.title?this.props.title:this.props.src,a={};return this.props.controlsList&&(a.controlsList=this.props.controlsList),h.createElement("audio",o({autoPlay:this.props.autoPlay,className:`react-audio-player ${this.props.className}`,controls:t,crossOrigin:this.props.crossOrigin,id:this.props.id,loop:this.props.loop,muted:this.props.muted,preload:this.props.preload,ref:this.audioEl,src:this.props.src,style:this.props.style,title:n},a),e)}}tt.defaultProps={autoPlay:!1,children:null,className:"",controls:!1,controlsList:"",id:"",listenInterval:1e4,loop:!1,muted:!1,onAbort:()=>{},onCanPlay:()=>{},onCanPlayThrough:()=>{},onEnded:()=>{},onError:()=>{},onListen:()=>{},onPause:()=>{},onPlay:()=>{},onSeeked:()=>{},onVolumeChanged:()=>{},onLoadedMetadata:()=>{},preload:"metadata",style:{},title:"",volume:1},tt.propTypes={autoPlay:X.bool,children:X.element,className:X.string,controls:X.bool,controlsList:X.string,crossOrigin:X.string,id:X.string,listenInterval:X.number,loop:X.bool,muted:X.bool,onAbort:X.func,onCanPlay:X.func,onCanPlayThrough:X.func,onEnded:X.func,onError:X.func,onListen:X.func,onLoadedMetadata:X.func,onPause:X.func,onPlay:X.func,onSeeked:X.func,onVolumeChanged:X.func,preload:X.oneOf(["","none","metadata","auto"]),src:X.string,style:X.objectOf(X.string),title:X.string,volume:X.number};function nt({playerRef:e,controls:t,src:n,onTickedCallback:a}){return h.createElement(tt,{ref:e,autoPlay:!1,muted:t.isMuted,volume:t.volume,src:n,loop:t.isRepeat,listenInterval:1e3,onListen:a})}const at=E((e=>({container:{display:"grid",gridTemplateColumns:"minmax(0, 9fr) minmax(0, 2fr)",gridTemplateRows:"minmax(0, 2fr) minmax(0, 1fr)",gap:"0px 8px",gridAutoFlow:"row",gridTemplateAreas:'"playback volume" "time volume"',height:"100%"},playback:{gridArea:"playback",display:"flex",justifyContent:"center",alignItems:"center",margin:"0px 80px"},volume:{gridArea:"volume",display:"flex",justifyContent:"center",alignItems:"center"},time:{gridArea:"time",alignItems:"center",margin:"0px 80px",display:"flex",justifyContent:"center"},playbackTimer:{marginInline:"24px",width:"35vw"},muteButton:{marginRight:"16px"},muteButtonActive:{marginRight:"16px",backgroundColor:e.palette.primary.light},shuffleButtonActive:{backgroundColor:e.palette.primary.light},repeatButtonActive:{backgroundColor:e.palette.primary.light}})));function rt({playbackStates:e,setPlaybackStates:t,activeEpisode:n,setActiveEpisode:a,isPlaying:r,setIsPlaying:s,episodes:i}){const c=at(),d=L.exports.useRef(null);function p(){var e;if(null!==d&&null!==d.current){const t=null==(e=d.current)?void 0:e.audioEl.current;if(null!==t)return t}}L.exports.useEffect((()=>{const e=p();void 0!==e&&(r?e.play():e.pause())}),[r]);const[u,m]=L.exports.useState({isMuted:!1,isShuffle:!1,isRepeat:!1,volume:.15});L.exports.useEffect((()=>{Se.onAuthStateChanged((e=>{null!==e?(async function(e){const n=P(we,`users/${e.uid}/playback`);oe(n).then((e=>{if(e.exists()){const n=e.val();if($e(n)){const e=JSON.parse(n,Me);t(e)}}}))}(e),async function(e){const t=P(we,`users/${e.uid}/controls`);oe(t).then((e=>{if(e.exists()){const t=e.val();Fe(t)&&m(t)}}))}(e)):(async function(){const e=localStorage.getItem("playback");if(null!==e&&$e(e)){const n=JSON.parse(e,Me);t(n)}}(),async function(){const e=localStorage.getItem("controls");if(null!==e&&Fe(JSON.parse(e))){const t=JSON.parse(e);m(t)}}())}))}),[]),L.exports.useEffect((()=>{if(v()){const e=p();void 0!==e&&(e.currentTime=g())}}),[n]);const[E,f]=L.exports.useState(!1);function v(){return void 0!==n&&e.has(n.id)}function g(){if(v()&&void 0!==n){const t=e.get(n.id);if(void 0!==t)return t}return 0}const y=Z(e,1e4);function b(a){if(void 0!==n)if(e instanceof Map&&void 0!==n){const r=new Map(e);r.set(n.id,a),t(r)}else{const e=new Map([[n.id,a]]);t(e)}}function x(e){return i.map((e=>e.id)).findIndex((t=>t===e))}return L.exports.useEffect((()=>{!function(e,t){if(e.size>0){if(null!==t){const n=P(we,`users/${t.uid}/playback`);N(n,JSON.stringify(e,Re))}localStorage.setItem("playback",JSON.stringify(e,Re))}}(e,Se.currentUser)}),[y]),h.createElement("div",{className:c.container},h.createElement("div",{className:c.playback},h.createElement(F,{onClick:function(){const e=l(o({},u),{isShuffle:!u.isShuffle});m(e),Je(e,Se.currentUser)},"aria-label":u.isShuffle?"pause":"play",className:u.isShuffle?c.shuffleButtonActive:void 0},h.createElement(ee,null)),h.createElement(F,{"aria-label":"play previous",onClick:()=>void 0!==n?function(e){const t=x(e),n=t>0?t-1:0;if(t!==n&&void 0!==i[n]){const e=i[n];a(e),Ve(e,Se.currentUser)}}(n.id):null},h.createElement(te,null)),h.createElement(F,{color:"secondary","aria-label":r?"pause":"play",onClick:()=>void 0!==n?s(!r):null},r?h.createElement(J,{fontSize:"large"}):h.createElement(U,{fontSize:"large"})),h.createElement(F,{"aria-label":"play next",onClick:()=>void 0!==n?function(e){const t=x(e),n=t<i.length?t+1:i.length-1;if(t!==n&&void 0!==i[n]){const e=i[n];a(e),Ve(e,Se.currentUser)}}(n.id):null},h.createElement(ne,null)),h.createElement(F,{"aria-label":u.isRepeat?"repeat":"no repeat",onClick:function(){const e=l(o({},u),{isRepeat:!u.isRepeat});m(e),Je(e,Se.currentUser)},className:u.isRepeat?c.repeatButtonActive:void 0},h.createElement(ae,null))),h.createElement("div",{className:c.volume},h.createElement(F,{"aria-label":u.isMuted?"unmute":"mute",onClick:function(){const e=l(o({},u),{isMuted:!u.isMuted});m(e),Je(e,Se.currentUser)},className:u.isMuted?c.muteButtonActive:c.muteButton},u.isMuted?h.createElement(re,null):h.createElement(se,null)),h.createElement(ie,{value:u.volume,getAriaValueText:()=>`volume is ${100*u.volume}%`,"aria-labelledby":"volume-slider",onChange:(e,t)=>function(e){if("number"==typeof e){const t=l(o({},u),{volume:e});m(t),Je(t,Se.currentUser)}}(t),min:0,step:.01,max:1})),h.createElement("div",{className:c.time},h.createElement(nt,{playerRef:d,controls:u,src:null==n?void 0:n.enclosureUrl,playing:r,onTickedCallback:function(e){E||b(e)}}),h.createElement(B,{variant:"subtitle2",color:"textSecondary"},Be(g())),h.createElement(ie,{color:"primary",className:c.playbackTimer,value:g(),getAriaValueText:()=>void 0!==n?`current time is ${g()} seconds`:"","aria-labelledby":"time-slider",onChange:(e,t)=>function(e){const t=p();void 0!==t&&"number"==typeof e&&(f(!0),t.currentTime=e,f(!1),b(e))}(t),min:0,step:1,max:void 0!==n?n.duration:0}),h.createElement(B,{variant:"subtitle2",color:"textSecondary"},Be(void 0!==n?n.duration:0))))}const st=L.exports.lazy((()=>xe((()=>Promise.resolve().then((function(){return He}))),void 0))),it=L.exports.lazy((()=>xe((()=>import("./Subscriptions.ee65b32e.js")),["assets/Subscriptions.ee65b32e.js","assets/vendor.74f0df22.js"]))),ot=L.exports.lazy((()=>xe((()=>import("./Login.257a6950.js")),["assets/Login.257a6950.js","assets/vendor.74f0df22.js"]))),lt=L.exports.lazy((()=>xe((()=>import("./Search.ec818710.js")),["assets/Search.ec818710.js","assets/vendor.74f0df22.js"]))),ct=E((e=>({container:{backgroundColor:e.palette.primary.light,display:"grid",gridTemplateColumns:"minmax(208px, 256px) minmax(720px, 1fr)",gridTemplateRows:"minmax(24px, 48px) minmax(600px, 1fr) minmax(72px, 88px)",gridAutoFlow:"row",gridTemplateAreas:'"logo header header" "navigation content content" "art controls controls"',height:"100%"},logo:{gridArea:"logo",display:"flex"},header:{gridArea:"header",display:"flex",alignItems:"center",padding:"0px 24px",paddingRight:"280px"},navigation:{gridArea:"navigation",marginBottom:"8px"},content:{gridArea:"content",overflowY:"auto",overflowX:"hidden",padding:"0px 24px",paddingRight:"280px",marginTop:"8px",marginBottom:"8px",minWidth:"720px"},controls:{gridArea:"controls",padding:"0px 24px",backgroundColor:e.palette.info.main},art:{gridArea:"art",paddingLeft:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:e.palette.info.main}})));function dt(){const e=ct(),t=f(),{client:n}=Le(),[a,r]=L.exports.useState([]),[s,i]=L.exports.useState(new Map),[o,l]=L.exports.useState(void 0),[c,d]=L.exports.useState(!1),[p,u]=L.exports.useState(10),m=a.map((e=>e.id)),E=T(`episodesByFeedId/${m.join(",")}/${p}`,(async function(){if(m.length>0){return(await n.episodesByFeedId(m,{max:p,fulltext:!0})).items}})),v=null==E?void 0:E.data;const g=void 0!==v?v:[];return L.exports.useEffect((()=>{Se.onAuthStateChanged((e=>{null!==e?(console.log("User detected."),async function(e){try{const t=P(we,`users/${e.uid}/subscriptions`),n=await oe(t);if(n.exists()){const e=n.val();je(e)&&r(e)}}catch(t){console.error(t)}}(e),async function(e){try{const t=P(we,`users/${e.uid}/activeEpisode`),n=await oe(t);if(n.exists()){const e=n.val();_e(e)&&l(e)}}catch(t){console.error(t)}}(e)):(async function(){const e=localStorage.getItem("subscriptions");if(null!==e&&je(JSON.parse(e))){const t=JSON.parse(e);r(t)}}(),async function(){const e=localStorage.getItem("activeEpisode");if(null!==e&&_e(JSON.parse(e))){const t=JSON.parse(e);l(t)}}())}))}),[]),h.createElement("div",{className:e.container},h.createElement("header",{className:e.logo},h.createElement(et,null)),h.createElement("header",{className:e.header},h.createElement(Xe,null)),h.createElement("nav",{className:e.navigation},h.createElement(Ae,null)),h.createElement("main",{className:e.content},h.createElement(L.exports.Suspense,{fallback:null},h.createElement(le,{location:t},h.createElement(ce,{exact:!0,path:"/"},h.createElement(st,{episodes:g,playbackStates:s,activeEpisode:o,setActiveEpisode:l,isPlaying:c,setIsPlaying:d})),h.createElement(ce,{path:"/search/:term"},h.createElement(lt,{subscriptions:a,setSubscriptions:r,playbackStates:s,activeEpisode:o,setActiveEpisode:l,isPlaying:c,setIsPlaying:d})),h.createElement(ce,{path:"/search/:term"},h.createElement(lt,{subscriptions:a,setSubscriptions:r,playbackStates:s,activeEpisode:o,setActiveEpisode:l,isPlaying:c,setIsPlaying:d})),h.createElement(ce,{path:"/search"},h.createElement(lt,{subscriptions:a,setSubscriptions:r,playbackStates:s,activeEpisode:o,setActiveEpisode:l,isPlaying:c,setIsPlaying:d})),h.createElement(ce,{exact:!0,path:"/episode/:episodeId"},h.createElement(qe,{episodeId:void 0,playbackStates:s,activeEpisode:o,setActiveEpisode:l,isPlaying:c,setIsPlaying:d})),h.createElement(ce,{exact:!0,path:"/subscriptions"},h.createElement(it,{subscriptions:a,setSubscriptions:r,playbackStates:s,activeEpisode:o,setActiveEpisode:l,isPlaying:c,setIsPlaying:d})),h.createElement(ce,{exact:!0,path:"/settings"},h.createElement(ot,null)),h.createElement(ce,{exact:!0,path:"/podcast/:podcastId"},h.createElement(Ye,{podcastId:void 0,subscriptions:a,setSubscriptions:r,playbackStates:s,activeEpisode:o,setActiveEpisode:l,isPlaying:c,setIsPlaying:d}))))),h.createElement("footer",{className:e.controls},h.createElement(rt,{episodes:g,playbackStates:s,activeEpisode:o,isPlaying:c,setIsPlaying:d,setPlaybackStates:i,setActiveEpisode:l})),h.createElement("footer",{className:e.art},h.createElement(Qe,{activeEpisode:o,subscriptions:a})))}const pt=de({palette:{primary:{contrastText:pe[50],dark:pe[900],main:pe[700],light:pe[50]},secondary:{dark:ue[700],main:ue[600],light:ue[100]},info:{main:pe[100]}},overrides:{MuiSkeleton:{rect:{borderRadius:"4px"}}}}),ut=new me({defaultOptions:{queries:{cacheTime:18e5,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchInterval:!1,staleTime:18e5}}});he.render(h.createElement(h.StrictMode,null,h.createElement(Ee,{basename:"/podcaster"},h.createElement(fe,{client:ut},h.createElement(ve,{cloudName:"dqg6dtafg",style:{height:"100%"}},h.createElement(Ce,null,h.createElement(ge,{theme:pt},h.createElement(dt,null))))))),document.getElementById("root"));export{Ye as P,Se as a,ke as b,Le as u};
